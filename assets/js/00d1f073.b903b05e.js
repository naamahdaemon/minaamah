"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[92],{6298:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var n=o(5893),r=o(1151);const a={sidebar_position:10,sidebar_label:"Why using A telegram bot",sidebar_class_name:"green"},s="Why do you need a telegram bot ?",i={id:"Node operator guide/Telegram_bot/monitoring_node_with_telegram",title:"Why do you need a telegram bot ?",description:"Telegram is a highly popular end-to-end encrypted messaging program.",source:"@site/docs/04-Node operator guide/Telegram_bot/monitoring_node_with_telegram.md",sourceDirName:"04-Node operator guide/Telegram_bot",slug:"/Node operator guide/Telegram_bot/monitoring_node_with_telegram",permalink:"/docs/Node operator guide/Telegram_bot/monitoring_node_with_telegram",draft:!1,unlisted:!1,editUrl:"https://github.com/naamahdaemon/minaamah/tree/main/docs/04-Node operator guide/Telegram_bot/monitoring_node_with_telegram.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,sidebar_label:"Why using A telegram bot",sidebar_class_name:"green"},sidebar:"mainSidebar",previous:{title:"Berkeley Node with Docker FAQ",permalink:"/docs/Node operator guide/Running_Docker_Berkeley_Node/running_berkeley_docker_faq"},next:{title:"Generic bash script to send messages to our bot",permalink:"/docs/Node operator guide/Telegram_bot/generic_telegram_sendmessage_script"}},l={},d=[{value:"Create a telegram bot",id:"create-a-telegram-bot",level:2},{value:"Step 1. Open the telegram app",id:"step-1-open-the-telegram-app",level:3},{value:"Step 2. Connect to Bot Father",id:"step-2-connect-to-bot-father",level:3},{value:"Step 3. Select the New Bot option",id:"step-3-select-the-new-bot-option",level:3},{value:"Step 4. Add a bot friendly name and username",id:"step-4-add-a-bot-friendly-name-and-username",level:3},{value:"Step 5. Test your bot token",id:"step-5-test-your-bot-token",level:3},{value:"Step 6. Initiate a chat with your bot and get the ChatId",id:"step-6-initiate-a-chat-with-your-bot-and-get-the-chatid",level:3},{value:"Use your Telegram bot",id:"use-your-telegram-bot",level:2}];function h(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"why-do-you-need-a-telegram-bot-",children:"Why do you need a telegram bot ?"}),"\n",(0,n.jsxs)(t.p,{children:["Telegram is a highly popular end-to-end encrypted messaging program.",(0,n.jsx)(t.br,{}),"\n","As other messaging program, Telegram provide some advanced functionnalities like  the possibility to create ",(0,n.jsx)(t.strong,{children:"bots"}),".",(0,n.jsx)(t.br,{}),"\n","A telegram chatbot, when linked to programs or script can behave as a real user, you can send message to the bot, send commands so that the bot perform some actions on your behalf, ...",(0,n.jsx)(t.br,{}),"\n","The major advantage of Telegram is the ease of implementation of a bot.",(0,n.jsx)(t.br,{}),"\n","Once setup, you can use it to monitor quite everything possible to monitor. In the context of a Mina node operator, you can for instance :"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Monitor the uptime of your node",(0,n.jsx)(t.br,{}),"\n","A simple script will read your node logs at regular inverval and then send your uptime to your bot that will display your uptime."]}),"\n",(0,n.jsxs)(t.li,{children:["Monitor the payout rewards of your blocks production",(0,n.jsx)(t.br,{}),"\n","Each time your node will produce a block, your can write a script that will use the official Mina Pool Payout Script (",(0,n.jsx)(t.a,{href:"https://github.com/jrwashburn/mina-pool-payout",children:"https://github.com/jrwashburn/mina-pool-payout"}),") to send to your bot the result of each payout you have to pay to your delegators."]}),"\n"]}),"\n",(0,n.jsxs)(t.admonition,{type:"info",children:[(0,n.jsx)(t.mdxAdmonitionTitle,{children:(0,n.jsx)(t.strong,{children:"Virtually anything is possible !"})}),(0,n.jsx)(t.p,{children:"Finally, you can automatize any information you like to send to your bot so that you keep a close eye on your node behavior."}),(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:'"The only limit to our realization of tomorrow will be our doubts of today." - Franklin D. Roosevelt'}),"\n"]})]}),"\n",(0,n.jsx)(t.h2,{id:"create-a-telegram-bot",children:"Create a telegram bot"}),"\n",(0,n.jsx)(t.p,{children:"The process to create a telegram bot is really straightforward and can be achieved in 6 easy steps."}),"\n",(0,n.jsx)(t.h3,{id:"step-1-open-the-telegram-app",children:"Step 1. Open the telegram app"}),"\n",(0,n.jsx)(t.p,{children:"Open your telegram app on either your mobile phone or your computer"}),"\n",(0,n.jsx)(t.h3,{id:"step-2-connect-to-bot-father",children:"Step 2. Connect to Bot Father"}),"\n",(0,n.jsxs)(t.p,{children:["BotFather is a bot/special user created by Telegram that allows you to create and manage your own bots.",(0,n.jsx)(t.br,{}),"\n",'To connect to BotFather, search for "@BotFather" in the Telegram app and click on the result to start a conversation.']}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"BotFather",src:o(5021).Z+"",width:"332",height:"244"})}),"\n",(0,n.jsx)(t.h3,{id:"step-3-select-the-new-bot-option",children:"Step 3. Select the New Bot option"}),"\n",(0,n.jsxs)(t.p,{children:['In the conversation with BotFather, select the "New Bot" option to start creating your new bot or simple type ',(0,n.jsx)(t.code,{children:"/newbot"})," in the message panel.",(0,n.jsx)(t.br,{}),"\n","BotFather will guide you through the rest of the process."]}),"\n",(0,n.jsx)(t.h3,{id:"step-4-add-a-bot-friendly-name-and-username",children:"Step 4. Add a bot friendly name and username"}),"\n",(0,n.jsx)(t.p,{children:"Next, BotFather will ask you to provide a name for your bot. Choose a name that accurately reflects the purpose of your bot and is easy to remember."}),"\n",(0,n.jsxs)(t.p,{children:["Lastly, BotFather will ask you to choose a username for your bot.",(0,n.jsx)(t.br,{}),"\n","This username will be used to create a unique URL that people can use to access your bot.",(0,n.jsx)(t.br,{}),"\n","Choose a username that is easy to remember and related to your bot's purpose."]}),"\n",(0,n.jsx)(t.h3,{id:"step-5-test-your-bot-token",children:"Step 5. Test your bot token"}),"\n",(0,n.jsx)(t.p,{children:"Finally, your bot is created !"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"botname",src:o(7650).Z+"",width:"491",height:"594"})}),"\n",(0,n.jsx)(t.p,{children:"After obtaining your token, try pasting this URL into your browser:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://api.telegram.org/bot%60YOUR_BOT_TOKEN%60/getMe",children:"https://api.telegram.org/bot`YOUR_BOT_TOKEN`/getMe"})}),"\n",(0,n.jsx)(t.p,{children:"You'll get the information for your newly created bot :"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n "ok": true,\n "result": {\n  "id": **********,\n  "is_bot": true,\n  "first_name": "My First Bot",\n  "username": "my_first_mina_bot",\n  "can_join_groups": true,\n  "can_read_all_group_messages": false,\n  "supports_inline_queries": false\n }\n}\n'})}),"\n",(0,n.jsx)(t.h3,{id:"step-6-initiate-a-chat-with-your-bot-and-get-the-chatid",children:"Step 6. Initiate a chat with your bot and get the ChatId"}),"\n",(0,n.jsxs)(t.p,{children:["Last step consists of initiating a private chat with your bot so we can get a ",(0,n.jsx)(t.code,{children:"chatId"})," we will adress to send message to.",(0,n.jsx)(t.br,{}),"\n","Just open a chat with your bot and click on ",(0,n.jsx)(t.code,{children:"Start"})]}),"\n",(0,n.jsx)(t.table,{children:(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.img,{alt:"Chat1",src:o(152).Z+"",width:"615",height:"463"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.img,{alt:"Chat2",src:o(9898).Z+"",width:"616",height:"496"})})]})})}),"\n",(0,n.jsx)(t.p,{children:"Then finally head over"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://api.telegram.org/bot%60YOUR_BOT_TOKEN%60/getUpdates",children:"https://api.telegram.org/bot`YOUR_BOT_TOKEN`/getUpdates"})}),"\n",(0,n.jsx)(t.p,{children:"which should return something similar to :"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n "ok": true,\n "result": [\n  {\n   "update_id": 999999999,\n   "message": {\n    "message_id": 1,\n    "from": {\n     "id": 0123456789,\n     "is_bot": false,\n     "first_name": "chatfn",\n     "username": "chatun",\n     "language_code": "en"\n    },\n    "chat": {\n     "id": 0123456789,\n     "first_name": "chatfn",\n     "username": "chatun",\n     "type": "private"\n    },\n    "date": 1707867545,\n    "text": "/start",\n    "entities": [\n     {\n      "offset": 0,\n      "length": 6,\n      "type": "bot_command"\n     }\n    ]\n   }\n  }\n ]\n}\n'})}),"\n",(0,n.jsxs)(t.p,{children:["And get your ",(0,n.jsx)(t.code,{children:"chat"})," ",(0,n.jsx)(t.code,{children:"id"})," here ",(0,n.jsx)(t.code,{children:"0123456789"})," (example value)"]}),"\n",(0,n.jsx)(t.p,{children:"And that's it! With these six easy steps, you can create your very own Telegram bot. Once you've created your bot, you can start adding features and programming it to do all sorts of fun and useful things."}),"\n",(0,n.jsx)(t.admonition,{title:"More Information",type:"tip",children:(0,n.jsxs)(t.p,{children:["Telegram provides a detailed tutorial on bot create here : ",(0,n.jsx)(t.a,{href:"https://core.telegram.org/bots/tutorial",children:"https://core.telegram.org/bots/tutorial"})]})}),"\n",(0,n.jsx)(t.admonition,{title:"Summary",type:"info",children:(0,n.jsxs)(t.p,{children:["Now you have your bot ",(0,n.jsx)(t.strong,{children:"token"})," and your ",(0,n.jsx)(t.strong,{children:"chatId"}),".",(0,n.jsx)(t.br,{}),"\n","These are the only two information you need to communicate with your bot from any program."]})}),"\n",(0,n.jsx)(t.h2,{id:"use-your-telegram-bot",children:"Use your Telegram bot"}),"\n",(0,n.jsxs)(t.p,{children:["Now that we have our bot ready, we will use it to send some information originating from our node.",(0,n.jsx)(t.br,{}),"\n","In principle, you'll find it extremely simple."]}),"\n",(0,n.jsx)(t.p,{children:"Now, let's try something !!"}),"\n",(0,n.jsxs)(t.admonition,{title:"Example",type:"info",children:[(0,n.jsxs)(t.p,{children:["1- Connect to your node",(0,n.jsx)(t.br,{}),"\n","2- Type the following in your interactive Shell :"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'$ curl -d "chat_id=0123456789&disable_web_page_preview=1&parse_mode=markdown" --data-urlencode "text=Hello" https://api.telegram.org/bot`YOUR_BOT_TOKEN`/sendMessage\n'})}),(0,n.jsx)(t.p,{children:"You will get the following response from telegram :"}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n "ok": true,\n "result": {\n  "message_id": 3,\n  "from": {\n   "id": **********,\n   "is_bot": true,\n   "first_name": "My First Bot",\n   "username": "my_first_mina_bot"\n  },\n  "chat": {\n   "id": 0123456789,\n   "first_name": "chatfn",\n   "username": "chatun",\n   "type": "private"\n  },\n  "date": 1707869569,\n  "text": "Hello"\n }\n}\n'})}),(0,n.jsx)(t.p,{children:"And in your telegram private chat with your bot  :"}),(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"message",src:o(8602).Z+"",width:"617",height:"499"})}),(0,n.jsxs)(t.p,{children:["...",(0,n.jsx)(t.strong,{children:"So .... Cool !!!"})]})]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["Every examples that will follow here are based on exactly the same operating principle.",(0,n.jsx)(t.br,{}),"\n","A program sends text via the Telegram APIs to our private chat with our bot.",(0,n.jsx)(t.br,{}),"\n","There's a lot more you can do with a bot that won't be covered here (questions, answers, interactivity, commands...)."]})})]})}function c(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},5021:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/botfather-6f85a74827270878afdebf30cfd77234.png"},152:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/chat1-e3a1df95f3da2000e3a579747ee9b64a.png"},9898:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/chat2-490bcac0cd91225f3eec623b77ac9f65.png"},7650:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/createbot-7cd2f9c7b2700134eb831495bfdf3c72.png"},8602:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/message-3ab583fb7d47b8c3e994cb35af4c7096.png"},1151:(e,t,o)=>{o.d(t,{Z:()=>i,a:()=>s});var n=o(7294);const r={},a=n.createContext(r);function s(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);