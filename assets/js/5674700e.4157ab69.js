"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2626],{4893:(t,e,s)=>{s.r(e),s.d(e,{assets:()=>x,contentTitle:()=>k,default:()=>S,frontMatter:()=>g,metadata:()=>m,toc:()=>j});var i=s(5893),o=s(1151),n=s(7294),r=(s(5742),s(2949)),a=s(2263),l=s(8767),c=s(9669),d=s.n(c),h=(s(938),s(6495));s(9085),s(9722);const u=new l.QueryClient,b=t=>{let{apiUrl:e,isRelative:s}=t;const[o,c]=(0,n.useState)(e),u=new Date,b=u.getFullYear(),p=u.getMonth(),g=new Date(b,p-1,1).toISOString().split("T")[0],k=new Date(b,p+1,0).toISOString().split("T")[0],[m,x]=(0,n.useState)(g),[j,y]=(0,n.useState)(k),{isDarkTheme:S}=(0,r.I)(),{siteConfig:f}=(0,a.Z)(),{isLoading:D,isError:v,data:w,error:B}=(0,l.useQuery)(["fetchAPI",{selectedApi:o}],(async()=>{const t=s?`https://akirion.com/${o}`:o;try{return(await d().get(t)).data}catch(B){throw new Error(B.message)}}),{retry:!1,retryOnMount:!1,refetchOnWindowFocus:!1});if(D)return(0,i.jsx)("div",{children:"Loading..."});if(v)return(0,i.jsxs)("div",{children:["Error: ",B.message]});const C={};w.data.blocks.forEach((t=>{const e=t.dateTime.split("T")[0];e in C?C[e]++:C[e]=1}));const _=Object.entries(C);console.log("blockCounts"),console.log(C),_.sort(((t,e)=>new Date(t[0])-new Date(e[0])));const T={};_.forEach((t=>{let[e,s]=t;T[e]=s}));const N=new Date(Object.keys(T)[0]),F=new Date,O=new Date(N);for(;O<=F;){const t=O.toISOString().split("T")[0];t in T||(T[t]=0),O.setDate(O.getDate()+1)}const P=Object.keys(T).sort();console.log("sortedBlockCounts"),console.log(T);P.map(((t,e)=>P.slice(0,e+1).reduce(((t,e)=>t+T[e]),0)));console.log(P.map((t=>T[t])));const I=_.filter((t=>{let[e]=t;return e>=m&&e<=j})),E={};I.forEach((t=>{let[e,s]=t;E[e]=s}));const A=Object.keys(E).sort(),M=A.map(((t,e)=>A.slice(0,e+1).reduce(((t,e)=>t+E[e]),0))),W={labels:A,datasets:[{type:"bar",label:"Number of Blocks",data:E,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,yAxisID:"y"},{label:"Cumulative Blocks",data:M,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,yAxisID:"y1"}]};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"inline-block",marginRight:"10px"},children:[(0,i.jsx)("label",{htmlFor:"startDate",children:"Start Date: "}),(0,i.jsx)("input",{type:"date",id:"startDate",value:m,onChange:t=>{x(t.target.value)}})]}),(0,i.jsxs)("div",{style:{display:"inline-block"},children:[(0,i.jsx)("label",{htmlFor:"endDate",children:"End Date: "}),(0,i.jsx)("input",{type:"date",id:"endDate",value:j,onChange:t=>{y(t.target.value)}})]})]}),(0,i.jsx)(h.x1,{data:W,options:{scales:{y:{position:"left",beginAtZero:!0,title:{display:!0,text:"Number of Blocks"}},y1:{position:"right",beginAtZero:!0,title:{display:!0,text:"Cumulative Blocks"}},x:{type:"time",time:{unit:"day",tooltipFormat:"yyyy-MM-dd"},title:{display:!0,labelString:"Date"}}}}}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Block Height"}),(0,i.jsx)("th",{children:"Date Time"}),(0,i.jsx)("th",{children:"Transaction Fees"}),(0,i.jsx)("th",{children:"Snark Fees"})]})}),(0,i.jsx)("tbody",{children:w.data.blocks.filter((t=>{const e=new Date(t.dateTime);return e.toISOString().split("T")[0]>=m&&e.toISOString().split("T")[0]<=j})).map(((t,e)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:t.blockHeight}),(0,i.jsx)("td",{children:t.dateTime}),(0,i.jsx)("td",{children:t.txFees/1e9}),(0,i.jsx)("td",{children:t.snarkFees/1e9})]},e)))})]})]})},p=t=>(0,i.jsx)(l.QueryClientProvider,{client:u,children:(0,i.jsx)(b,{...t})}),g={title:"Block Production",sidebar_label:"Block Production",hide_table_of_contents:!0},k="BP Stats",m={id:"Node Statistics/block_production",title:"Block Production",description:"Blocks",source:"@site/docs/01-Node Statistics/block_production.md",sourceDirName:"01-Node Statistics",slug:"/Node Statistics/block_production",permalink:"/docs/Node Statistics/block_production",draft:!1,unlisted:!1,editUrl:"https://github.com/naamahdaemon/minaamah/tree/main/docs/01-Node Statistics/block_production.md",tags:[],version:"current",frontMatter:{title:"Block Production",sidebar_label:"Block Production",hide_table_of_contents:!0},sidebar:"mainSidebar",previous:{title:"Block Producer Statistics",permalink:"/docs/Node Statistics/"},next:{title:"Delegations",permalink:"/docs/Node Statistics/delegations"}},x={},j=[{value:"Blocks",id:"blocks",level:2}];function y(t){const e={h1:"h1",h2:"h2",...(0,o.a)(),...t.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"bp-stats",children:"BP Stats"}),"\n","\n","\n",(0,i.jsx)(e.h2,{id:"blocks",children:"Blocks"}),"\n",(0,i.jsx)(p,{apiUrl:"node_info.json",isRelative:"true"})]})}function S(t={}){const{wrapper:e}={...(0,o.a)(),...t.components};return e?(0,i.jsx)(e,{...t,children:(0,i.jsx)(y,{...t})}):y(t)}}}]);