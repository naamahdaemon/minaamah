"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3797],{2226:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>s,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var a=o(5893),r=o(1151);const i={sidebar_position:15,sidebar_label:"Berkeley Node with Docker FAQ",sidebar_class_name:"green"},t="Frequently Ask Questions",c={id:"Node operator guide/Running_Docker_Berkeley_Node/running_berkeley_docker_faq",title:"Frequently Ask Questions",description:"Official documentation",source:"@site/docs/04-Node operator guide/Running_Docker_Berkeley_Node/running_berkeley_docker_faq.md",sourceDirName:"04-Node operator guide/Running_Docker_Berkeley_Node",slug:"/Node operator guide/Running_Docker_Berkeley_Node/running_berkeley_docker_faq",permalink:"/docs/Node operator guide/Running_Docker_Berkeley_Node/running_berkeley_docker_faq",draft:!1,unlisted:!1,editUrl:"https://github.com/naamahdaemon/minaamah/tree/main/docs/04-Node operator guide/Running_Docker_Berkeley_Node/running_berkeley_docker_faq.md",tags:[],version:"current",sidebarPosition:15,frontMatter:{sidebar_position:15,sidebar_label:"Berkeley Node with Docker FAQ",sidebar_class_name:"green"},sidebar:"mainSidebar",previous:{title:"Running Mina Berkeley Node with Docker",permalink:"/docs/Node operator guide/Running_Docker_Berkeley_Node/running_berkeley"},next:{title:"Why using A telegram bot",permalink:"/docs/Node operator guide/Telegram_bot/monitoring_node_with_telegram"}},s={},l=[{value:"Official documentation",id:"official-documentation",level:2},{value:"Docker images",id:"docker-images",level:2},{value:"Usefull Docker CLI",id:"usefull-docker-cli",level:2},{value:"List available images",id:"list-available-images",level:3},{value:"List docker container",id:"list-docker-container",level:3},{value:"Stop a running container",id:"stop-a-running-container",level:3},{value:"Start a container",id:"start-a-container",level:3},{value:"Remove a docker container",id:"remove-a-docker-container",level:3},{value:"Reattach a detach container",id:"reattach-a-detach-container",level:3},{value:"Removing all stopped containers",id:"removing-all-stopped-containers",level:3},{value:"Overriding Container entrypoint",id:"overriding-container-entrypoint",level:3}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"frequently-ask-questions",children:"Frequently Ask Questions"}),"\n",(0,a.jsx)(n.h2,{id:"official-documentation",children:"Official documentation"}),"\n",(0,a.jsx)(n.p,{children:"Official documentation to run a berkeley node is available here (latest Berkeley release on Feb, 18th 2024):"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/MinaProtocol/mina/releases/tag/2.0.0berkeley_rc1",children:"https://github.com/MinaProtocol/mina/releases/tag/2.0.0berkeley_rc1"})}),"\n",(0,a.jsx)(n.p,{children:"Some additional information about running a mina node with docker is available here (may not be up to date and may concern mainnet, devnet and not Berkeley but a source of inspiration anyway) :"}),"\n",(0,a.jsx)(n.admonition,{title:"Additional Documentation",type:"info",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Staketab documentation\n",(0,a.jsx)(n.a,{href:"https://minanode.staketab.com/english/node-launch-options/running-mina-with-docker",children:"https://minanode.staketab.com/english/node-launch-options/running-mina-with-docker"})]}),"\n",(0,a.jsxs)(n.li,{children:["Official mina testnet documentation\n",(0,a.jsx)(n.a,{href:"https://docs.minaprotocol.com/node-operators/connecting-to-devnet",children:"https://docs.minaprotocol.com/node-operators/connecting-to-devnet"})]}),"\n",(0,a.jsxs)(n.li,{children:["Official mina mainnet documentation\n",(0,a.jsx)(n.a,{href:"https://docs.minaprotocol.com/node-operators/connecting-to-the-network#docker",children:"https://docs.minaprotocol.com/node-operators/connecting-to-the-network#docker"})]}),"\n"]})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"docker-images",children:"Docker images"}),"\n",(0,a.jsx)(n.p,{children:"Mina docker images are available on Docker Hub :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://hub.docker.com/r/minaprotocol/mina-daemon/tags",children:"https://hub.docker.com/r/minaprotocol/mina-daemon/tags"})}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["For instance, the latest Berkeley RC1 release for Ubuntu Focal :\n",(0,a.jsx)(n.img,{alt:"Docker Hub",src:o(3340).Z+"",width:"1240",height:"188"})]}),"\n",(0,a.jsxs)(n.admonition,{title:"Links to Google Cloud images are also available in the Github release note :",type:"info",children:[(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/MinaProtocol/mina/releases/tag/2.0.0berkeley_rc1",children:"https://github.com/MinaProtocol/mina/releases/tag/2.0.0berkeley_rc1"})}),"\n"]}),(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Every docker image is built for each of the supported platforms."}),"\n",(0,a.jsx)(n.p,{children:"To select the base docker image, replace CODENAME with the codename appropriate for your machine (focal, buster, or bullseye):"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Mina Daemon: gcr.io/o1labs-192920/mina-daemon:2.0.0berkeley-rc1-1551e2f-CODENAME-berkeley"}),"\n",(0,a.jsx)(n.li,{children:"Mina Archive: gcr.io/o1labs-192920/mina-archive:2.0.0berkeley-rc1-1551e2f-CODENAME"}),"\n"]}),"\n"]}),(0,a.jsx)(n.p,{children:"So if you want to download the FOCAL latest release you can docker pull the following :"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://gcr.io/o1labs-192920/mina-daemon:2.0.0berkeley-rc1-1551e2f-focal-berkeley",children:"https://gcr.io/o1labs-192920/mina-daemon:2.0.0berkeley-rc1-1551e2f-focal-berkeley"})}),"\n"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Docker Image",src:o(4098).Z+"",width:"1118",height:"540"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"usefull-docker-cli",children:"Usefull Docker CLI"}),"\n",(0,a.jsx)(n.h3,{id:"list-available-images",children:"List available images"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker images\n"})}),"\n",(0,a.jsx)(n.h3,{id:"list-docker-container",children:"List docker container"}),"\n",(0,a.jsx)(n.p,{children:"There are 2 ways you can list running docker containers :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker container ls\n"})}),"\n",(0,a.jsx)(n.p,{children:"or"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker ps\n"})}),"\n",(0,a.jsx)(n.p,{children:"There are 2 ways you can list all containers :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker container ls -a\n"})}),"\n",(0,a.jsx)(n.p,{children:"or"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker ps -a\n"})}),"\n",(0,a.jsx)(n.h3,{id:"stop-a-running-container",children:"Stop a running container"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker stop <container_name_or_id>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"start-a-container",children:"Start a container"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker start <container_name_or_id>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"remove-a-docker-container",children:"Remove a docker container"}),"\n",(0,a.jsx)(n.p,{children:"You can remove a Docker container :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker rm <container_name_or_id>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"reattach-a-detach-container",children:"Reattach a detach container"}),"\n",(0,a.jsx)(n.p,{children:"You can detach a container to let it run in the background by using CTRL+p CTRL+q.\nYou may want to reattach a detached container. That can be achieved by :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker attach <container_name_or_id>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"removing-all-stopped-containers",children:"Removing all stopped containers"}),"\n",(0,a.jsx)(n.p,{children:"The docker container prune command is used to remove all stopped containers from your Docker environment. It's a convenient way to clean up your system by removing containers that are no longer in use"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker container prune\n"})}),"\n",(0,a.jsx)(n.h3,{id:"overriding-container-entrypoint",children:"Overriding Container entrypoint"}),"\n",(0,a.jsx)(n.p,{children:'Overriding the default container entrypoint can be really usefull to debug.\nWe used this in the "Running a node on Mina berkeley with docker documentation" to access the container through an interactive shell that allowed us to generate all keys before launching the mina dameon (that failed without this).'}),"\n",(0,a.jsxs)(n.p,{children:["For this, you will use the ",(0,a.jsx)(n.code,{children:"--entrypoint"})," Docker command line parameter allowing you to specify to launch a bash shell for instance"]}),"\n",(0,a.jsx)(n.admonition,{title:"Exemple",type:"note",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker run --name mina -p 9302:8302 -p 127.0.0.1:3085:3085 \\\n--mount \"type=bind,source=$(pwd)/keys,dst=/root/keys\" \\\n--mount \"type=bind,source=$(pwd)/config,dst=/root/.mina-config\" \\\n--env MINA_LIBP2P_PASS='pass' \\\n--env MINA_PRIVKEY_PASS='pass' \\\n--env UPTIME_PRIVKEY_PASS='pass' \\\n--entrypoint /bin/bash -it 353043fd4878\n"})})})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},3340:(e,n,o)=>{o.d(n,{Z:()=>a});const a=o.p+"assets/images/docker_hub-a43dd114aa9a01b1cb3accca7354d019.png"},4098:(e,n,o)=>{o.d(n,{Z:()=>a});const a=o.p+"assets/images/docker_image-e5baa949ba1fd6d8db9fa49168342519.png"},1151:(e,n,o)=>{o.d(n,{Z:()=>c,a:()=>t});var a=o(7294);const r={},i=a.createContext(r);function t(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);