"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4197],{8361:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>f,contentTitle:()=>x,default:()=>k,frontMatter:()=>b,metadata:()=>m,toc:()=>j});var s=a(5893),i=a(1151),l=a(7294),n=(a(5742),a(2949)),o=a(2263),r=a(8767),d=a(9669),c=a.n(d),h=(a(938),a(6495));a(9085),a(9722);const p=new r.QueryClient,u=e=>{let{apiUrl:t,isRelative:a}=e;const[i,d]=(0,l.useState)(t),[p,u]=(0,l.useState)(null),[g,b]=(0,l.useState)([]),[x,m]=(0,l.useState)([]),{isDarkTheme:f}=(0,n.I)(),{siteConfig:j}=(0,o.Z)(),{isLoading:y,isError:k,data:D,error:S}=(0,r.useQuery)(["fetchAPI",{selectedApi:i}],(async()=>{const e=a?`https://akirion.com/${i}`:i;try{return(await c().get(e)).data}catch(S){throw new Error(S.message)}}),{retry:!1,retryOnMount:!1,refetchOnWindowFocus:!1});(0,l.useEffect)((()=>{if(D&&D.data&&D.data.stakes){const e=[...new Set(D.data.stakes.map((e=>e.epoch)))];b(e)}}),[D]),(0,l.useEffect)((()=>{if(D&&D.data&&D.data.stakes){let e=D.data.stakes.filter((e=>!p||e.epoch>=p)).map((e=>({epoch:e.epoch,publicKey:e.public_key,balance:e.balance})));e=e.sort(((e,t)=>e.epoch!==t.epoch?t.epoch-e.epoch:t.balance-e.balance)),m(e)}}),[p,D]);if(y)return(0,s.jsx)("div",{children:"Loading..."});if(k)return(0,s.jsxs)("div",{children:["Error: ",S.message]});let v=D.data.stakes.filter((e=>"B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr"===e.public_key&&(!p||e.epoch>=p)));const _=v.map((e=>e.epoch)),w={labels:_,datasets:[{type:"bar",label:"Total Delegated",data:v.map((e=>e.delegationTotals.totalDelegated)),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,yAxisID:"y"},{label:"# Delegates",data:v.map((e=>e.delegationTotals.countDelegates)),backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,yAxisID:"y1"}]};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"epoch",children:"Select Epoch after: "}),(0,s.jsxs)("select",{id:"epoch",value:p||"",onChange:e=>{u(parseInt(e.target.value))},children:[(0,s.jsx)("option",{value:"",children:"All Epochs"}),_.map((e=>(0,s.jsx)("option",{value:e,children:e},e)))]})]}),(0,s.jsx)(h.x1,{data:w,options:{scales:{y:{position:"left",beginAtZero:!0,title:{display:!0,text:"Total Delegated"}},y1:{position:"right",beginAtZero:!0,title:{display:!0,text:"# Delegates"}},x:{title:{display:!0,labelString:"Epoch"}}}}}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Epoch"}),(0,s.jsx)("th",{children:"Public Key"}),(0,s.jsx)("th",{children:"Balance"})]})}),(0,s.jsx)("tbody",{children:x.map((e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.epoch}),(0,s.jsx)("td",{children:e.publicKey}),(0,s.jsx)("td",{children:e.balance})]})))})]})]})},g=e=>(0,s.jsx)(r.QueryClientProvider,{client:p,children:(0,s.jsx)(u,{...e})}),b={title:"Delegations",sidebar_label:"Delegations",hide_table_of_contents:!0},x="BP Stats",m={id:"Node Statistics/delegations",title:"Delegations",description:"Delegations",source:"@site/docs/01-Node Statistics/delegations.md",sourceDirName:"01-Node Statistics",slug:"/Node Statistics/delegations",permalink:"/docs/Node Statistics/delegations",draft:!1,unlisted:!1,editUrl:"https://github.com/naamahdaemon/minaamah/tree/main/docs/01-Node Statistics/delegations.md",tags:[],version:"current",frontMatter:{title:"Delegations",sidebar_label:"Delegations",hide_table_of_contents:!0},sidebar:"mainSidebar",previous:{title:"Block Production",permalink:"/docs/Node Statistics/block_production"},next:{title:"Useful links",permalink:"/docs/General Information/usefull_links"}},f={},j=[{value:"Delegations",id:"delegations",level:2}];function y(e){const t={h1:"h1",h2:"h2",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"bp-stats",children:"BP Stats"}),"\n","\n","\n",(0,s.jsx)(t.h2,{id:"delegations",children:"Delegations"}),"\n",(0,s.jsx)(g,{apiUrl:"node_delegations.json",isRelative:"true"})]})}function k(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(y,{...e})}):y(e)}}}]);