"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4197],{98361:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>x,contentTitle:()=>b,default:()=>k,frontMatter:()=>f,metadata:()=>m,toc:()=>j});var a=s(85893),n=s(11151),i=s(67294),r=(s(35742),s(92949)),o=s(52263),l=s(88767),c=s(9669),d=s.n(c),u=(s(20938),s(26495));s(9085),s(29722);const h=new l.QueryClient,p=e=>{let{apiUrl:t,isRelative:s}=e;const[n,c]=(0,i.useState)(t),[h,p]=(0,i.useState)(null),[g,f]=(0,i.useState)([]),[b,m]=(0,i.useState)([]),{isDarkTheme:x}=(0,r.I)(),{siteConfig:j}=(0,o.Z)(),{isLoading:y,isError:k,data:v,error:S}=(0,l.useQuery)(["fetchAPI",{selectedApi:n}],(async()=>{const e=s?`https://akirion.com/${n}`:n;try{return(await d().get(e)).data}catch(S){throw new Error(S.message)}}),{retry:!1,retryOnMount:!1,refetchOnWindowFocus:!1});(0,i.useEffect)((()=>{if(v&&v.data&&v.data.stakes){const e=[...new Set(v.data.stakes.map((e=>e.epoch)))];f(e)}}),[v]),(0,i.useEffect)((()=>{if(v&&v.data&&v.data.stakes){let e=v.data.stakes.filter((e=>!h||e.epoch>=h)).map((e=>({epoch:e.epoch,publicKey:e.public_key,balance:e.balance})));e=e.sort(((e,t)=>e.epoch!==t.epoch?t.epoch-e.epoch:t.balance-e.balance)),m(e)}}),[h,v]);if(y)return(0,a.jsx)("div",{children:"Loading..."});if(k)return(0,a.jsxs)("div",{children:["Error: ",S.message]});let w=v.data.stakes.filter((e=>"B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr"===e.public_key&&(!h||e.epoch>=h)));const D=w.map((e=>e.epoch)),E={labels:D,datasets:[{type:"bar",label:"Total Delegated",data:w.map((e=>e.delegationTotals.totalDelegated)),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,yAxisID:"y"},{label:"# Delegates",data:w.map((e=>e.delegationTotals.countDelegates)),backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,yAxisID:"y1"}]};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"epoch",children:"Select Epoch after: "}),(0,a.jsxs)("select",{id:"epoch",value:h||"",onChange:e=>{p(parseInt(e.target.value))},children:[(0,a.jsx)("option",{value:"",children:"All Epochs"}),D.map((e=>(0,a.jsx)("option",{value:e,children:e},e)))]})]}),(0,a.jsx)(u.x1,{data:E,options:{scales:{y:{position:"left",beginAtZero:!0,title:{display:!0,text:"Total Delegated"}},y1:{position:"right",beginAtZero:!0,title:{display:!0,text:"# Delegates"}},x:{title:{display:!0,labelString:"Epoch"}}}}}),(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Epoch"}),(0,a.jsx)("th",{children:"Public Key"}),(0,a.jsx)("th",{children:"Balance"})]})}),(0,a.jsx)("tbody",{children:b.map((e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.epoch}),(0,a.jsx)("td",{children:e.publicKey}),(0,a.jsx)("td",{children:e.balance})]})))})]})]})},g=e=>(0,a.jsx)(l.QueryClientProvider,{client:h,children:(0,a.jsx)(p,{...e})}),f={title:"Delegations",sidebar_label:"Delegations",hide_table_of_contents:!0},b="BP Stats",m={id:"Node Statistics/delegations",title:"Delegations",description:"Delegations",source:"@site/docs/01-Node Statistics/delegations.md",sourceDirName:"01-Node Statistics",slug:"/Node Statistics/delegations",permalink:"/docs/Node Statistics/delegations",draft:!1,unlisted:!1,editUrl:"https://github.com/naamahdaemon/minaamah/tree/main/docs/01-Node Statistics/delegations.md",tags:[],version:"current",frontMatter:{title:"Delegations",sidebar_label:"Delegations",hide_table_of_contents:!0},sidebar:"mainSidebar",previous:{title:"Block Production",permalink:"/docs/Node Statistics/block_production"},next:{title:"Epoch Statistics",permalink:"/docs/Node Statistics/epoch_stats"}},x={},j=[{value:"Delegations",id:"delegations",level:2}];function y(e){const t={h1:"h1",h2:"h2",...(0,n.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"bp-stats",children:"BP Stats"}),"\n","\n","\n",(0,a.jsx)(t.h2,{id:"delegations",children:"Delegations"}),"\n",(0,a.jsx)(g,{apiUrl:"node_delegations.json",isRelative:"true"})]})}function k(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(y,{...e})}):y(e)}},26495:(e,t,s)=>{s.d(t,{x1:()=>p});var a=s(67294),n=s(65750);const i="label";function r(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function o(e,t){e.labels=t}function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const a=[];e.datasets=t.map((t=>{const n=e.datasets.find((e=>e[s]===t[s]));return n&&t.data&&!a.includes(n)?(a.push(n),Object.assign(n,t),n):{...t}}))}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const s={labels:[],datasets:[]};return o(s,e.labels),l(s,e.datasets,t),s}function d(e,t){const{height:s=150,width:i=300,redraw:d=!1,datasetIdKey:u,type:h,data:p,options:g,plugins:f=[],fallbackContent:b,updateMode:m,...x}=e,j=(0,a.useRef)(null),y=(0,a.useRef)(),k=()=>{j.current&&(y.current=new n.kL(j.current,{type:h,data:c(p,u),options:g&&{...g},plugins:f}),r(t,y.current))},v=()=>{r(t,null),y.current&&(y.current.destroy(),y.current=null)};return(0,a.useEffect)((()=>{!d&&y.current&&g&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(y.current,g)}),[d,g]),(0,a.useEffect)((()=>{!d&&y.current&&o(y.current.config.data,p.labels)}),[d,p.labels]),(0,a.useEffect)((()=>{!d&&y.current&&p.datasets&&l(y.current.config.data,p.datasets,u)}),[d,p.datasets]),(0,a.useEffect)((()=>{y.current&&(d?(v(),setTimeout(k)):y.current.update(m))}),[d,g,p.labels,p.datasets,m]),(0,a.useEffect)((()=>{y.current&&(v(),setTimeout(k))}),[h]),(0,a.useEffect)((()=>(k(),()=>v())),[]),a.createElement("canvas",Object.assign({ref:j,role:"img",height:s,width:i},x),b)}const u=(0,a.forwardRef)(d);function h(e,t){return n.kL.register(t),(0,a.forwardRef)(((t,s)=>a.createElement(u,Object.assign({},t,{ref:s,type:e}))))}const p=h("line",n.ST)}}]);