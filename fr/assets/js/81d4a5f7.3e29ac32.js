"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2821],{9767:(t,e,s)=>{s.r(e),s.d(e,{assets:()=>k,contentTitle:()=>g,default:()=>y,frontMatter:()=>p,metadata:()=>m,toc:()=>x});var n=s(5893),r=s(1151),i=s(7294),o=(s(5742),s(2949)),a=s(2263),c=s(8767),l=s(9669),d=s.n(l),u=(s(938),s(6495));s(9085),s(9722);const h=new c.QueryClient,b=t=>{let{apiUrl:e,isRelative:s}=t;const[r,l]=(0,i.useState)(e),h=new Date,b=h.getFullYear(),f=h.getMonth(),p=new Date(b,f-1,1).toISOString().split("T")[0],g=new Date(b,f+1,0).toISOString().split("T")[0],[m,k]=(0,i.useState)(p),[x,j]=(0,i.useState)(g),{isDarkTheme:y}=(0,o.I)(),{siteConfig:S}=(0,a.Z)(),{isLoading:w,isError:v,data:D,error:B}=(0,c.useQuery)(["fetchAPI",{selectedApi:r}],(async()=>{const t=s?`https://akirion.com/${r}`:r;try{return(await d().get(t)).data}catch(B){throw new Error(B.message)}}),{retry:!1,retryOnMount:!1,refetchOnWindowFocus:!1});if(w)return(0,n.jsx)("div",{children:"Loading..."});if(v)return(0,n.jsxs)("div",{children:["Error: ",B.message]});const C={};D.data.blocks.forEach((t=>{const e=t.dateTime.split("T")[0];e in C?C[e]++:C[e]=1}));const T=Object.entries(C);console.log("blockCounts"),console.log(C),T.sort(((t,e)=>new Date(t[0])-new Date(e[0])));const _={};T.forEach((t=>{let[e,s]=t;_[e]=s}));const E=new Date(Object.keys(_)[0]),O=new Date,N=new Date(E);for(;N<=O;){const t=N.toISOString().split("T")[0];t in _||(_[t]=0),N.setDate(N.getDate()+1)}const F=Object.keys(_).sort();console.log("sortedBlockCounts"),console.log(_);F.map(((t,e)=>F.slice(0,e+1).reduce(((t,e)=>t+_[e]),0)));console.log(F.map((t=>_[t])));const I=T.filter((t=>{let[e]=t;return e>=m&&e<=x})),P={};I.forEach((t=>{let[e,s]=t;P[e]=s}));const R=Object.keys(P).sort(),M=R.map(((t,e)=>R.slice(0,e+1).reduce(((t,e)=>t+P[e]),0))),A={labels:R,datasets:[{type:"bar",label:"Number of Blocks",data:P,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,yAxisID:"y"},{label:"Cumulative Blocks",data:M,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,yAxisID:"y1"}]};return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"inline-block",marginRight:"10px"},children:[(0,n.jsx)("label",{htmlFor:"startDate",children:"Start Date: "}),(0,n.jsx)("input",{type:"date",id:"startDate",value:m,onChange:t=>{k(t.target.value)}})]}),(0,n.jsxs)("div",{style:{display:"inline-block"},children:[(0,n.jsx)("label",{htmlFor:"endDate",children:"End Date: "}),(0,n.jsx)("input",{type:"date",id:"endDate",value:x,onChange:t=>{j(t.target.value)}})]})]}),(0,n.jsx)(u.x1,{data:A,options:{scales:{y:{position:"left",beginAtZero:!0,title:{display:!0,text:"Number of Blocks"}},y1:{position:"right",beginAtZero:!0,title:{display:!0,text:"Cumulative Blocks"}},x:{type:"time",time:{unit:"day",tooltipFormat:"yyyy-MM-dd"},title:{display:!0,labelString:"Date"}}}}}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Block Height"}),(0,n.jsx)("th",{children:"Date Time"}),(0,n.jsx)("th",{children:"Coinbase"}),(0,n.jsx)("th",{children:"Transaction Fees"}),(0,n.jsx)("th",{children:"Snark Fees"})]})}),(0,n.jsx)("tbody",{children:D.data.blocks.filter((t=>{const e=new Date(t.dateTime);return e.toISOString().split("T")[0]>=m&&e.toISOString().split("T")[0]<=x})).map(((t,e)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:t.blockHeight}),(0,n.jsx)("td",{children:t.dateTime}),(0,n.jsx)("td",{children:t.transactions.coinbase/1e9}),(0,n.jsx)("td",{children:t.txFees/1e9}),(0,n.jsx)("td",{children:t.snarkFees/1e9})]},e)))})]})]})},f=t=>(0,n.jsx)(c.QueryClientProvider,{client:h,children:(0,n.jsx)(b,{...t})}),p={title:"Block Production",sidebar_label:"Block Production",hide_table_of_contents:!0},g="BP Stats",m={id:"Node Statistics/block_production",title:"Block Production",description:"Blocks",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/01-Node Statistics/block_production.md",sourceDirName:"01-Node Statistics",slug:"/Node Statistics/block_production",permalink:"/fr/docs/Node Statistics/block_production",draft:!1,unlisted:!1,editUrl:"https://github.com/naamahdaemon/minaamah/tree/main/docs/01-Node Statistics/block_production.md",tags:[],version:"current",frontMatter:{title:"Block Production",sidebar_label:"Block Production",hide_table_of_contents:!0},sidebar:"mainSidebar",previous:{title:"Block Producer Statistics",permalink:"/fr/docs/Node Statistics/"},next:{title:"Delegations",permalink:"/fr/docs/Node Statistics/delegations"}},k={},x=[{value:"Blocks",id:"blocks",level:2}];function j(t){const e={h1:"h1",h2:"h2",...(0,r.a)(),...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{id:"bp-stats",children:"BP Stats"}),"\n","\n","\n",(0,n.jsx)(e.h2,{id:"blocks",children:"Blocks"}),"\n",(0,n.jsx)(f,{apiUrl:"node_info.json",isRelative:"true"})]})}function y(t={}){const{wrapper:e}={...(0,r.a)(),...t.components};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(j,{...t})}):j(t)}},6495:(t,e,s)=>{s.d(e,{x1:()=>b});var n=s(7294),r=s(5750);const i="label";function o(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function a(t,e){t.labels=e}function c(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const n=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[s]===e[s]));return r&&e.data&&!n.includes(r)?(n.push(r),Object.assign(r,e),r):{...e}}))}function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const s={labels:[],datasets:[]};return a(s,t.labels),c(s,t.datasets,e),s}function d(t,e){const{height:s=150,width:i=300,redraw:d=!1,datasetIdKey:u,type:h,data:b,options:f,plugins:p=[],fallbackContent:g,updateMode:m,...k}=t,x=(0,n.useRef)(null),j=(0,n.useRef)(),y=()=>{x.current&&(j.current=new r.kL(x.current,{type:h,data:l(b,u),options:f&&{...f},plugins:p}),o(e,j.current))},S=()=>{o(e,null),j.current&&(j.current.destroy(),j.current=null)};return(0,n.useEffect)((()=>{!d&&j.current&&f&&function(t,e){const s=t.options;s&&e&&Object.assign(s,e)}(j.current,f)}),[d,f]),(0,n.useEffect)((()=>{!d&&j.current&&a(j.current.config.data,b.labels)}),[d,b.labels]),(0,n.useEffect)((()=>{!d&&j.current&&b.datasets&&c(j.current.config.data,b.datasets,u)}),[d,b.datasets]),(0,n.useEffect)((()=>{j.current&&(d?(S(),setTimeout(y)):j.current.update(m))}),[d,f,b.labels,b.datasets,m]),(0,n.useEffect)((()=>{j.current&&(S(),setTimeout(y))}),[h]),(0,n.useEffect)((()=>(y(),()=>S())),[]),n.createElement("canvas",Object.assign({ref:x,role:"img",height:s,width:i},k),g)}const u=(0,n.forwardRef)(d);function h(t,e){return r.kL.register(e),(0,n.forwardRef)(((e,s)=>n.createElement(u,Object.assign({},e,{ref:s,type:t}))))}const b=h("line",r.ST)}}]);