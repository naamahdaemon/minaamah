"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4235],{9968:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>g,contentTitle:()=>j,default:()=>k,frontMatter:()=>b,metadata:()=>y,toc:()=>N});var s=t(5893),l=t(1151),o=t(7294);t(5742),t(2263),t(8767),t(9669),t(938);const n="courrier_jDEQ",r="tablecontainer_IuUn",c="highlightedrow_x0VV",i="rightalign_Dphx",d="libelle_kn7_",h="entree_sYoc",u="rouge_itf_",m="noir_MKq5",x=()=>{const[e,a]=(0,o.useState)(1),[t,l]=(0,o.useState)("B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr"),[x,p]=(0,o.useState)(null),[b,j]=(0,o.useState)(null),[y,g]=(0,o.useState)(null),[N,f]=(0,o.useState)(null),[k,_]=(0,o.useState)(null),[F,S]=(0,o.useState)(1),[w,v]=(0,o.useState)(5),[C,T]=(0,o.useState)("B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr"),[K,B]=(0,o.useState)("B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr"),[A,P]=(0,o.useState)(!0),O=async()=>{try{let a=Number(e)+80,s=!1;const l="my_secret",o="https://minataur.net/api/v1",n="https://www.akirion.com:4664/proxy?url=";let r=o+"/account",c=o+"/delegators",i=o+"/work",d={"Content-Type":"application/json","Minataur-Authorization":"minataur-token:ede9adcaec633f3290865e0f85faddbb:4d8801b69d7870786620996ddcb14e551719693200945"};!0&&(r=n+encodeURIComponent(`${o}/account`),c=n+encodeURIComponent(`${o}/delegators`),i=n+encodeURIComponent(`${o}/work`),d={"Content-Type":"application/json","x-api-key":"e0d9da01-c1c5-4c44-b4fa-3cbdb4982ed3"}),console.log("PublicKey3 :"+C),console.log("****DEBUT DU FETCH DATA****");const h={auth:l,publicKey:C},u={auth:l,epoch:a,publicKey:t,includeOrphanBlocks:!1,beforeHardFork:s},m=await fetch(r,{method:"POST",headers:d,body:JSON.stringify(h)}),x=await m.json();if(!K){let e="B62qpsyB3gCndt8sNz4GRwusBtg9U72TNiL4mxmcQfWKZ5noa9fFnWr";x&&x.payload&&x.payload.account&&x.payload.account.ledger&&x.payload.account.ledger.delegate_key&&(e=x.payload.account.ledger.delegate_key),B(e)}C&&T(C);const b={auth:l,epoch:a,publicKey:K,includeOrphanBlocks:!1,beforeHardFork:s},[y,N,k,S]=await Promise.all([fetch(c,{method:"POST",headers:d,body:JSON.stringify(u)}).then((e=>e.json())),fetch(i,{method:"POST",headers:d,body:JSON.stringify({auth:l,epoch:a,publicKey:t,includeOrphanBlocks:!1,beforeHardFork:s})}).then((e=>e.json())),fetch(c,{method:"POST",headers:d,body:JSON.stringify(b)}).then((e=>e.json())),fetch(i,{method:"POST",headers:d,body:JSON.stringify({auth:l,epoch:a,publicKey:K,includeOrphanBlocks:!1,beforeHardFork:s})}).then((e=>e.json()))]);let v;x&&x.payload&&x.payload.account?p(x.payload.account):(console.error("Invalid account data:",x),p(null)),y&&N&&x&&(v=()=>({ledger:y.payload.ledger,work:N.payload.work,tableName:"ValidatorTable"}),f(v())),k&&S&&x&&(v=()=>({ledger:k.payload.ledger,work:S.payload.work,tableName:"ValidatorTable"}),_(v())),y&&N&&x&&(v=()=>({ledger:y.payload.ledger,work:N.payload.work,account:x.payload.account,tableName:"delegatorsTable",publicKey:C,showPublicKey:A,fee:F}),console.log(y),console.log(N),console.log(x),j(v())),k&&S&&x&&(v=()=>({ledger:k.payload.ledger,work:S.payload.work,account:x.payload.account,tableName:"delegatorsTable",publicKey:C,showPublicKey:A,fee:w}),console.log(k),console.log(S),console.log(x),g(v())),console.log("****FIN DU FETCH DATA****")}catch(a){console.error("Error fetching data:",a)}};(0,o.useEffect)((()=>{O()}),[e,t,K,C,F,w,A]);const E=e=>{let{key:a}=e;const t=a,l=`${t.slice(0,6)}...${t.slice(-6)}`;return(0,s.jsxs)("td",{style:{whiteSpace:"nowrap"},children:[l,(0,s.jsx)("span",{style:{cursor:"pointer",marginLeft:"5px"},onClick:()=>{navigator.clipboard.writeText(t).then((()=>{alert(`${t} copied to clipboard!`)})).catch((e=>{console.error("Failed to copy full key: ",e)}))},title:"Click to copy full key",children:"\ud83d\udccb"})]})},R=(e,a)=>{if(console.log("*** VALIDATOR TABLE ***"),console.log(e),!e)return null;const{ledger:t,work:l}=e;return t&&l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:a}),(0,s.jsxs)("table",{className:n,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Key"}),(0,s.jsx)("th",{children:"#Blocks"}),(0,s.jsx)("th",{children:"Rewards"}),(0,s.jsx)("th",{children:"Snarks Fee"}),(0,s.jsx)("th",{children:"Trans. Fee"}),(0,s.jsx)("th",{children:"#Del"}),(0,s.jsx)("th",{children:"Stake"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[E({key:l.publicKey}),(0,s.jsx)("td",{className:i,children:l.count}),(0,s.jsx)("td",{className:i,children:(Number(l.rewards)/1e9).toFixed(4)}),(0,s.jsx)("td",{className:i,children:(Number(l.snarks_fee)/1e9).toFixed(4)}),(0,s.jsx)("td",{className:i,children:(Number(l.transactions_fee)/1e9).toFixed(4)}),(0,s.jsx)("td",{className:i,children:t.delegators_count}),(0,s.jsx)("td",{className:i,children:(Number(t.stake)/1e9).toFixed(2)})]})})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:a}),(0,s.jsx)("p",{className:u,children:"Validator information is not available"})]})},D=(e,a)=>{if(!e)return null;console.log("*** DELEGATOR TABLE ***"),console.log(e);const{ledger:t,work:l,account:o,tableName:r,publicKey:d,showPublicKey:h,fee:m}=e;if(!(t&&l&&o&&o.info))return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:a}),(0,s.jsx)("p",{className:u,children:"Delegators information is not available"})]});let x=Number(t.stake);t.delegators.some((e=>e.public_key===o.info.key))||(x+=Number(o.info.balance));const p=(Number(l.rewards)+Number(l.transactions_fee))/1e9,b={public_key:o.info.key,balance:o.info.balance,locked:!1,is_olabs:o.info.is_olabs,is_found:o.info.is_found,is_investor:o.info.is_investor};t.delegators.some((e=>e.public_key===b.public_key))||t.delegators.push(b);const j=t.delegators.sort(((e,a)=>Number(a.balance)-Number(e.balance)));let y=0,g=0,N=0;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:a}),(0,s.jsxs)("table",{className:n,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Key"}),(0,s.jsx)("th",{children:"Lock"}),(0,s.jsx)("th",{children:"Bal."}),(0,s.jsx)("th",{children:"O"}),(0,s.jsx)("th",{children:"F"}),(0,s.jsx)("th",{children:"I"}),(0,s.jsx)("th",{children:"Share"}),(0,s.jsx)("th",{children:"Payout"})]})}),(0,s.jsxs)("tbody",{children:[j.map(((e,a)=>{let t,l=(e.balance/x*100).toFixed(8),o=(e.balance/x*100).toFixed(4);t=e.is_found||e.is_investor?p*(l/100)*.92:e.is_o1labs?p*(l/100)*.95:p*(l/100)*((100-m)/100),y+=Number(e.balance)/1e9,g+=parseFloat(l),N+=t;let n=e.public_key===d;if(n&&console.log(e.public_key+" higlighted"),!h||e.public_key===d)return(0,s.jsxs)("tr",{className:n?c:"",children:[E({key:e.public_key}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"checkbox",checked:e.locked,disabled:!0})}),(0,s.jsx)("td",{className:i,children:(Number(e.balance)/1e9).toFixed(2)}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"checkbox",checked:e.is_olabs,disabled:!0})}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"checkbox",checked:e.is_found,disabled:!0})}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"checkbox",checked:e.is_investor,disabled:!0})}),(0,s.jsx)("td",{className:i,children:o}),(0,s.jsx)("td",{className:i,children:t.toFixed(4)})]},a)})),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total:"})}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{className:i,children:(0,s.jsx)("strong",{children:y.toFixed(2)})}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{className:i,children:(0,s.jsx)("strong",{children:g.toFixed(2)})}),(0,s.jsx)("td",{className:i,children:(0,s.jsx)("strong",{children:N.toFixed(2)})})]})]})]})]})};return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:d,htmlFor:"epoch",children:"Epoch (since hardfork)"}),(0,s.jsx)("input",{className:h,type:"number",id:"epoch",value:e,min:"0",onChange:e=>a(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{className:d,htmlFor:"publicKey1",children:"Naamah's validator"}),(0,s.jsx)("input",{className:`${h} ${m}`,type:"text",id:"publicKey1",value:t,onChange:e=>l(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{className:d,htmlFor:"fee1",children:"Naamah's Fees (%)"}),(0,s.jsx)("input",{className:`${h} ${m}`,type:"number",id:"fee1",value:F,min:"0",max:"100",onChange:e=>S(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{className:d,htmlFor:"fee2",children:"Enter your validator's fee (%)"}),(0,s.jsx)("input",{className:h,type:"number",id:"fee2",value:w,min:"0",max:"100",onChange:e=>v(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{className:d,htmlFor:"publicKey3",children:"Enter your public Key"}),(0,s.jsx)("input",{className:h,type:"text",id:"publicKey3",value:C,onChange:e=>T(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{className:d,htmlFor:"publicKey2",children:"Your current validator address"}),(0,s.jsx)("input",{className:`${h} ${m}`,type:"text",id:"publicKey2",value:K,onChange:e=>B(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{type:"checkbox",id:"showPublicKey3",checked:A,onChange:()=>P(!A)})," Filter to display your public key only",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("center",{children:(0,s.jsx)("button",{className:h,onClick:O,children:"Compare"})}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{className:r,children:(()=>{if(!x)return null;console.log("*** ACCOUNT TABLE ***"),console.log(x);const{info:e,ledger:a}=x;let t=a&&a.delegate_key?E({key:a.delegate_key}):(0,s.jsx)("td",{className:u,children:"Key is not in staking ledger yet"});return console.log("*** ACCOUNT TABLE LEDGER***"),console.log(a),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Account Information"}),(0,s.jsxs)("table",{className:n,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Public Key"}),(0,s.jsx)("th",{children:"Balance"}),(0,s.jsx)("th",{children:"Delegate Key"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[E({key:e.key}),(0,s.jsx)("td",{className:i,children:(Number(e.balance)/1e9).toFixed(4)}),t]})})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Account Information"}),(0,s.jsx)("p",{className:u,children:"Account information is not available"})]})})()}),(0,s.jsx)("div",{className:r,children:R(N,"Naamah's Block Stats")}),(0,s.jsx)("div",{className:r,children:R(k,"Your Validator Block Stats")}),(0,s.jsx)("div",{className:r,children:D(b,"Naamah's Payouts")}),(0,s.jsx)("div",{className:r,children:D(y,"Your Validator Payouts")}),(0,s.jsx)("footer",{children:(0,s.jsx)("p",{children:"\xa9 2024 Naamah"})})]})},p=x,b={title:"Payout Simulator",sidebar_label:"Payouts Simulator",hide_table_of_contents:!0},j="NAAMAH'S BP PERFORMANCE COMPARISON",y={id:"Node Statistics/payouts_simulator",title:"Payout Simulator",description:"Compare the performance of your actual validator with mine \ud83d\ude0a",source:"@site/docs/01-Node Statistics/payouts_simulator.md",sourceDirName:"01-Node Statistics",slug:"/Node Statistics/payouts_simulator",permalink:"/fr/docs/Node Statistics/payouts_simulator",draft:!1,unlisted:!1,editUrl:"https://github.com/naamahdaemon/minaamah/tree/main/docs/01-Node Statistics/payouts_simulator.md",tags:[],version:"current",frontMatter:{title:"Payout Simulator",sidebar_label:"Payouts Simulator",hide_table_of_contents:!0},sidebar:"mainSidebar",previous:{title:"Payouts",permalink:"/fr/docs/Node Statistics/payouts"},next:{title:"Liens utiles",permalink:"/fr/docs/General Information/usefull_links"}},g={},N=[];function f(e){const a={admonition:"admonition",em:"em",h1:"h1",p:"p",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h1,{id:"naamahs-bp-performance-comparison",children:"NAAMAH'S BP PERFORMANCE COMPARISON"}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.em,{children:"Compare the performance of your actual validator with mine \ud83d\ude0a"})}),"\n",(0,s.jsx)(a.admonition,{title:"notice",type:"warning",children:(0,s.jsx)(a.p,{children:"Only the epochs post hardfork (>0) on the new chain are taken into account."})}),"\n",(0,s.jsx)(p,{})]})}function k(e={}){const{wrapper:a}={...(0,l.a)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(f,{...e})}):f(e)}}}]);